(()=>{var e={551:function(e){!function(t){let n=[];const o=Array.prototype.forEach;function r(e){const t=[];let n=0;const o=e.length;for(;n<o;){const r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<o){const o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t}function l(e,t){const n=Object.prototype.toString.call(e),o="string"==typeof e||"[object NodeList]"===n||"[object HTMLCollection]"===n||1===e.nodeType,r="function"==typeof t;return o||console.error("Countable: Not a valid target"),r||console.error("Countable: Not a valid callback function"),o&&r}function i(e,t){let n=""+("string"==typeof e?e:"value"in e?e.value:e.textContent);(t=t||{}).stripTags&&(n=n.replace(/<\/?[a-z][^>]*>/gi,"")),t.ignore&&o.call(t.ignore,(function(e){n=n.replace(e,"")}));const l=n.trim();return{paragraphs:l?(l.match(t.hardReturns?/\n{2,}/g:/\n+/g)||[]).length+1:0,sentences:l?(l.match(/[.?!…]+./g)||[]).length+1:0,words:l?(l.replace(/['";:,.?¿\-!¡]+/g,"").match(/\S+/g)||[]).length:0,characters:l?r(l.replace(/\s/g,"")).length:0,all:r(n).length}}const a={on:function(e,t,r){if(l(e,t))return Array.isArray(e)||(e=[e]),o.call(e,(function(e){const o=function(){t.call(e,i(e,r))};n.push({element:e,handler:o}),o(),e.addEventListener("input",o)})),this},off:function(e){if(l(e,(function(){})))return Array.isArray(e)||(e=[e]),n.filter((function(t){return-1!==e.indexOf(t.element)})).forEach((function(e){e.element.removeEventListener("input",e.handler)})),n=n.filter((function(t){return-1===e.indexOf(t.element)})),this},count:function(e,t,n){if(l(e,t))return Array.isArray(e)||(e=[e]),o.call(e,(function(e){t.call(e,i(e,n))})),this},enabled:function(e){return void 0===e.length&&(e=[e]),n.filter((function(t){return-1!==e.indexOf(t.element)})).length===e.length}};e.exports=a}()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e,t=n(551),o=n.n(t),r=null,l=-1,i=[];function a(){var e=window.location.href;if(e.endsWith("/post-new.php")||e.includes("action=edit")){var t=document.querySelector(".wp-block-post-content");return console.log("Content area for edit mode:",t),t}var n=document.querySelector("#vnx_post_content");return console.log("Content area for view mode:",n),n}(e=document.createElement("link")).rel="stylesheet",e.type="text/css",e.href=chrome.runtime.getURL("css/styles.css"),e.onload=function(){return console.log("CSS loaded successfully")},e.onerror=function(e){return console.error("Error loading CSS",e)},document.head.appendChild(e),chrome.runtime.onMessage.addListener((function(e,t,n){console.log("Received request:",e);try{if("getContentOverview"===e.action||"getContentOverviewFromCreate"===e.action||"getContentOverviewFromEdit"===e.action)n(function(){console.log("Fetching content overview...");var e=document.querySelector(".edit-post-visual-editor__post-title-wrapper"),t=e?e.innerText:document.querySelector("title")?document.querySelector("title").innerText:"",n=document.querySelector('meta[name="description"]')?document.querySelector('meta[name="description"]').getAttribute("content"):"",r=document.querySelector('meta[property="og:image"]')?document.querySelector('meta[property="og:image"]').getAttribute("content"):"",l=document.querySelector('img[src="'.concat(r,'"]'))?document.querySelector('img[src="'.concat(r,'"]')).alt:"",i=a();if(!i)return console.error("Content area not found."),{};var c=window.location.href,s=0;if(c.endsWith("/post-new.php")||c.includes("action=edit")){var u=i.querySelector("#rank-math-faq"),h=0;if(u){var f=Array.from(u.getElementsByClassName("rank-math-faq-question")),d=Array.from(u.getElementsByClassName("rank-math-faq-answer")),g=[].concat(f,d).map((function(e){return e.innerText})).join(" ");o().count(g,(function(e){h=e.words}))}var m=Array.from(i.children).filter((function(e){return!e.contains(u)})).map((function(e){return e.innerText})).join(" "),p=0;o().count(m,(function(e){p=e.words})),console.log("Other content word count (edit mode):",p),console.log("FAQ word count (edit mode):",h),s=h+p}else{var v=i.querySelector("#rank-math-faq"),y=0;if(v){var w=Array.from(v.getElementsByClassName("ftwp-heading")),x=Array.from(v.getElementsByClassName("rank-math-answer")),A=[].concat(w,x).map((function(e){return e.innerText})).join(" ");o().count(A,(function(e){y=e.words}));var C=i.innerText.replace(v.innerText,""),b=0;o().count(C,(function(e){b=e.words})),console.log("Other content word count (view mode):",b),console.log("FAQ word count (view mode):",y),s=y+b}else o().count(i.innerText,(function(e){s=e.words}))}if(console.log("Total word count:",s),c.endsWith("/post-new.php")||c.includes("action=edit")){var q=document.getElementById("word-count");q&&(q.textContent="".concat(s," words"))}return console.log("Counted words:",s),{metaTitle:t,metaDescription:n,thumbnail:r,thumbnailAlt:l,wordCount:"".concat(s," words")}}());else if("getImagesAndLinks"===e.action){var c=function(){console.log("Fetching images and links...");var e=a();if(!e)return console.error("Content area not found."),{images:[],links:[]};var t=1,n=1,o={},r=0,l=0,c=0,s=0,u=0,h=0,f=Array.from(e.querySelectorAll("img")).map((function(e){var n=e.closest("figure"),i=n?n.querySelector("figcaption"):null,a=e.getAttribute("data-src")||e.src||"",f=a.substring(a.lastIndexOf("/")+1),d=a.split(".").pop();return d&&(o[d]=(o[d]||0)+1),e.alt?r++:l++,e.title?c++:s++,i?u++:h++,{id:t++,alt_text:e.alt||"",url:a,name:f,format:d,caption:i?i.textContent:""}})),d=Array.from(e.querySelectorAll("a")).map((function(t){var o=Array.from(e.querySelectorAll("a")).filter((function(e){return e.href===t.href})).length>1;return o&&i.push(t),{link_id:n++,anchor:t.textContent||"",url:t.href||"",is_external:t.hostname!==location.hostname,is_nofollow:t.rel.includes("nofollow"),is_new_tab:"_blank"===t.target,is_duplicated:o}})),g=d.length,m=d.length-new Set(d.map((function(e){return e.url}))).size,p=d.filter((function(e){return e.is_new_tab})).length,v=d.filter((function(e){return!e.is_external})).length,y=d.filter((function(e){return e.is_external})).length,w=d.filter((function(e){return e.is_nofollow})).length;return{images:f,links:d,overview:{totalImages:f.length,imageFormatsCount:o,totalImagesWithAlt:r,totalImagesWithoutAlt:l,totalImagesWithTitle:c,totalImagesWithoutTitle:s,totalImagesWithCaption:u,totalImagesWithoutCaption:h,totalUrls:g,totalDuplicatedUrls:m,totalNewTabUrls:p,totalInternalLinks:v,totalExternalLinks:y,totalNoFollowUrls:w}}}();n(c)}else"highlightAnchor"===e.action?function(e){console.log("highlightAnchor function called with anchorText:",e),r&&(console.log("Clearing previous highlight:",r),r.classList.remove("highlighted"),r=null);var t=a();if(t){var n=t.querySelectorAll("a, span, div, p, h1, h2, h3, h4, h5, h6");console.log("Total elements found in content area:",n.length);var o=!1;n.forEach((function(t){t.textContent.trim()===e.trim()&&(console.log("Match found. Highlighting element:",t),t.classList.add("highlighted"),t.scrollIntoView({behavior:"smooth",block:"center"}),r=t,o=!0)})),o?console.log("Element highlighted:",r):console.log("No matching element found for anchor text:",e)}else console.error("Content area not found.")}(e.anchorText):"scrollToAnchor"===e.action?(u=e.anchorText,document.querySelectorAll("a, span, div, p, h1, h2, h3, h4, h5, h6").forEach((function(e){e.textContent.trim()===u.trim()&&e.scrollIntoView({behavior:"smooth",block:"center"})}))):"scrollToImage"===e.action?(s=e.imageUrl,document.querySelectorAll("img").forEach((function(e){e.src!==s&&e.getAttribute("data-src")!==s||e.scrollIntoView({behavior:"smooth",block:"center"})}))):"findNextDuplicate"===e.action?function(){if(console.log("Finding next duplicate link"),0!==i.length){r&&(r.style.backgroundColor="",r=null),++l>=i.length&&(l=0);var e=i[l];e.style.backgroundColor="lightyellow",e.scrollIntoView({behavior:"smooth",block:"center"}),r=e}}(e.anchorText):n({error:"Unknown action"})}catch(e){console.error("Error handling request:",e),n({error:e.message})}var s,u;return!0}))})()})();