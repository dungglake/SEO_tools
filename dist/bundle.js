(()=>{var t={551:function(t){!function(e){let n=[];const o=Array.prototype.forEach;function r(t){const e=[];let n=0;const o=t.length;for(;n<o;){const r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<o){const o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&r)<<10)+(1023&o)+65536):(e.push(r),n--)}else e.push(r)}return e}function i(t,e){const n=Object.prototype.toString.call(t),o="string"==typeof t||"[object NodeList]"===n||"[object HTMLCollection]"===n||1===t.nodeType,r="function"==typeof e;return o||console.error("Countable: Not a valid target"),r||console.error("Countable: Not a valid callback function"),o&&r}function a(t,e){let n=""+("string"==typeof t?t:"value"in t?t.value:t.textContent);(e=e||{}).stripTags&&(n=n.replace(/<\/?[a-z][^>]*>/gi,"")),e.ignore&&o.call(e.ignore,(function(t){n=n.replace(t,"")}));const i=n.trim();return{paragraphs:i?(i.match(e.hardReturns?/\n{2,}/g:/\n+/g)||[]).length+1:0,sentences:i?(i.match(/[.?!…]+./g)||[]).length+1:0,words:i?(i.replace(/['";:,.?¿\-!¡]+/g,"").match(/\S+/g)||[]).length:0,characters:i?r(i.replace(/\s/g,"")).length:0,all:r(n).length}}const l={on:function(t,e,r){if(i(t,e))return Array.isArray(t)||(t=[t]),o.call(t,(function(t){const o=function(){e.call(t,a(t,r))};n.push({element:t,handler:o}),o(),t.addEventListener("input",o)})),this},off:function(t){if(i(t,(function(){})))return Array.isArray(t)||(t=[t]),n.filter((function(e){return-1!==t.indexOf(e.element)})).forEach((function(t){t.element.removeEventListener("input",t.handler)})),n=n.filter((function(e){return-1===t.indexOf(e.element)})),this},count:function(t,e,n){if(i(t,e))return Array.isArray(t)||(t=[t]),o.call(t,(function(t){e.call(t,a(t,n))})),this},enabled:function(t){return void 0===t.length&&(t=[t]),n.filter((function(e){return-1!==t.indexOf(e.element)})).length===t.length}};t.exports=l}()}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t,e=n(551),o=n.n(e),r=null,i=[];function a(){var t=window.location.href;return t.endsWith("/post-new.php")||t.includes("action=edit")?document.querySelector(".wp-block-post-content"):document.querySelector("#vnx_post_content")}(t=document.createElement("link")).rel="stylesheet",t.type="text/css",t.href=chrome.runtime.getURL("css/highlight.css"),document.head.appendChild(t),chrome.runtime.onMessage.addListener((function(t,e,n){try{if("getContentOverview"===t.action||"getContentOverviewFromCreate"===t.action||"getContentOverviewFromEdit"===t.action)n(function(){console.log("Fetching content overview...");var t=document.querySelector(".edit-post-visual-editor__post-title-wrapper"),e=t?t.innerText:document.querySelector("title")?document.querySelector("title").innerText:"",n=e.length,r=document.querySelector('meta[name="description"]')?document.querySelector('meta[name="description"]').getAttribute("content"):"",i=r.length,l=document.querySelector('meta[property="og:image"]')?document.querySelector('meta[property="og:image"]').getAttribute("content"):"";console.log("Thumbnail URL:",l);var c=document.querySelector('meta[property="og:image:alt"]')?document.querySelector('meta[property="og:image:alt"]').getAttribute("content"):"";console.log("Thumbnail Alt:",c);var s=a();if(!s)return console.error("Content area not found."),{};var u=window.location.href,h=0;if(u.endsWith("/post-new.php")||u.includes("action=edit")){var f=s.querySelector("#rank-math-faq"),m=0;if(f){var g=Array.from(f.getElementsByClassName("rank-math-faq-question")),d=Array.from(f.getElementsByClassName("rank-math-faq-answer")),p=[].concat(g,d).map((function(t){return t.innerText})).join(" ");o().count(p,(function(t){m=t.words}))}var y=Array.from(s.children).filter((function(t){return!t.contains(f)})).map((function(t){return t.innerText})).join(" "),v=0;o().count(y,(function(t){v=t.words})),h=m+v}else{var w=s.querySelector("#rank-math-faq"),A=0;if(w){var b=Array.from(w.getElementsByClassName("ftwp-heading")),x=Array.from(w.getElementsByClassName("rank-math-answer")),C=[].concat(b,x).map((function(t){return t.innerText})).join(" ");o().count(C,(function(t){A=t.words}));var q=s.innerText.replace(w.innerText,""),T=0;o().count(q,(function(t){T=t.words})),h=A+T}else o().count(s.innerText,(function(t){h=t.words}))}if(u.endsWith("/post-new.php")||u.includes("action=edit")){var S=document.getElementById("word-count");S&&(S.textContent="".concat(h," words"))}return{metaTitle:e,metaDescription:r,metaTitleCount:n,metaDescriptionCount:i,thumbnail:l,thumbnailAlt:c,wordCount:"".concat(h," words")}}());else if("getImagesAndLinks"===t.action){var l=function(){console.log("Fetching images and links...");var t=a();if(!t)return console.error("Content area not found."),{images:[],links:[]};var e=1,n=1,o={},r=0,l=0,c=0,s=0,u=0,h=0,f=Array.from(t.querySelectorAll("img")).filter((function(t){return"svg"!==t.src.split(".").pop().toLowerCase()})).map((function(t){var n=t.closest("figure"),i=n?n.querySelector("figcaption"):null,a=t.getAttribute("data-src")||t.src||"",f=a.substring(a.lastIndexOf("/")+1),m=a.split(".").pop();return m&&(o[m]=(o[m]||0)+1),t.alt?r++:l++,t.title?c++:s++,i?u++:h++,{id:e++,alt_text:t.alt||"",url:a,name:f,format:m,caption:i?i.textContent:""}})),m=Array.from(t.querySelectorAll("a")).map((function(e){var o=Array.from(t.querySelectorAll("a")).filter((function(t){return t.href===e.href})).length>1;return o&&i.push(e),{link_id:n++,anchor:e.textContent||"",url:e.href||"",is_external:e.hostname!==location.hostname,is_nofollow:e.rel.includes("nofollow"),is_new_tab:"_blank"===e.target,is_duplicated:o}})),g=m.length,d=m.length-new Set(m.map((function(t){return t.url}))).size,p=m.filter((function(t){return t.is_new_tab})).length,y=m.filter((function(t){return!t.is_external})).length,v=m.filter((function(t){return t.is_external})).length,w=m.filter((function(t){return t.is_nofollow})).length;return{images:f,links:m,overview:{totalImages:f.length,imageFormatsCount:o,totalImagesWithAlt:r,totalImagesWithoutAlt:l,totalImagesWithTitle:c,totalImagesWithoutTitle:s,totalImagesWithCaption:u,totalImagesWithoutCaption:h,totalUrls:g,totalDuplicatedUrls:d,totalNewTabUrls:p,totalInternalLinks:y,totalExternalLinks:v,totalNoFollowUrls:w}}}();n(l)}else"highlightAnchor"===t.action?(function(t){r&&(r.classList.remove("highlighted"),r=null);var e=a();e?e.querySelectorAll("a, span, div, p, h1, h2, h3, h4, h5, h6").forEach((function(e){e.textContent.trim()===t.trim()&&(e.classList.add("highlighted"),setTimeout((function(){e.scrollIntoView({behavior:"smooth",block:"center"})}),100),r=e)})):console.error("Content area not found.")}(t.anchorText),n({status:"done"})):"scrollToAnchor"===t.action?(s=t.anchorText,document.querySelectorAll("a, span, div, p, h1, h2, h3, h4, h5, h6").forEach((function(t){t.textContent.trim()===s.trim()&&setTimeout((function(){t.scrollIntoView({behavior:"smooth",block:"center"})}),100)})),n({status:"done"})):"scrollToImage"===t.action?(c=t.imageUrl,document.querySelectorAll("img").forEach((function(t){t.src!==c&&t.getAttribute("data-src")!==c||setTimeout((function(){t.scrollIntoView({behavior:"smooth",block:"center"})}),100)})),n({status:"done"})):"highlightAllDuplicates"===t.action?(i.forEach((function(t){t.classList.add("highlighted")})),i.length>0&&setTimeout((function(){i[0].scrollIntoView({behavior:"smooth",block:"center"})}),100),n({status:"done"})):"resetHighlights"===t.action?(document.querySelectorAll(".highlighted").forEach((function(t){t.classList.remove("highlighted")})),r=null,i.length=0,n({status:"done"})):n({error:"Unknown action"})}catch(t){console.error("Error handling request:",t),n({error:t.message})}var c,s;return!0}))})()})();